<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>effect4.html</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container mt-3">
        <div class="row">
            <!-- 자바스크립트의 배열을 이용해서 카드 레이아웃이 들어가는 자리 -->
        </div>
        <button type="button" class="btn btn-primary mt-2" id="more">더보기</button>
        <button type="button" class="btn btn-primary mt-2" id="low">6만원 이하 상품보기</button>
        <button type="button" class="btn btn-warning mt-2" id="search">특정 문자 검색</button>
    </div>


    <script>
        // 배열에서 사용하는 함수
        // 배열에서 원하는 자료만 필터링하고 싶을 때 
        // filter() - 검색한 내용들로 새로운 데이터가 만들어지기 때문에 새로운 변수나 배열에 담아줘야한다.
        // sort() - 정렬한 후 변경된 데이터를 기존 변수 안에 저장해준다.
        let array = [7, 3, 5, 2, 40];

        // 배열에서 0번째 부터 하나씩 꺼내서 a라는 매개 변수에 저장한다.
        // 매개 변수가 조건을 확인하고 맞으면 새로운 변수에 저장한다.
        let resultArray = array.filter(function(a) {
            return a < 5;
        });

        console.log(resultArray);

        var products = [
            { id: 0, price: 70000, title: 'Blossom Dress' },
            { id: 1, price: 50000, title: 'Springfield Shirt' },
            { id: 2, price: 60000, title: 'Black Monastery' }];

        function appendProducts(products) {
            products.forEach(function (product) {
                var 템플릿 = '<div class="col-sm-4">'
                    + '<div class="card">'
                    + '<img src="후드 라이언.png" class="card-img-top" aler="...">'
                    + '<div class="card-body">'
                    + '<h5 class="card-title">' + product.title + '</h5>'
                    + '<p class="card-text"> 가격: ' + product.price + '</p>'
                    + '</div>'
                    + '</div>'
                    + '</div>';

                $('.row').append(템플릿);
            });
        }
        appendProducts(products);

        // 6만원 이하인 상품만 card레이아웃에 출력하기
        let resultPrice = products.filter(
            function(product) {
                return product.price <= 60000;
            }
        );
        console.log(resultPrice);

        $('#more').click(function() {
            $('.row').empty();
            appendProducts(products);
        });

        $('#low').click(function() {
            $('.row').empty();
            appendProducts(resultPrice);
        });

        // 특정 문장 혹은 문자를 검색하면 원하는 결과를 얻는 것
        
        // 'B'가 포함된 객체를 필터링
        $('#search').click(function() {
            let filterPro = products.filter(function(p) {
                return p.title.includes('D');
            });
            console.log(filterPro);
        });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>